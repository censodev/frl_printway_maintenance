(this.webpackJsonppgc_admin_dev=this.webpackJsonppgc_admin_dev||[]).push([[14],{508:function(e){e.exports=JSON.parse('{"duplicated_data.site":"Duplicate data site","duplicated_data.email":"Email already exists!","invalid_data.transaction_id_exist":"Transaction ID has exist!","error.userexists":"Account has exists!","invalid_data.not_https":"Https is required!","invalid_data.max_site":"Only one site created!","invalid_data.product_type_constrain":"Error, this product type is running"}')},509:function(e,t,a){"use strict";a(45),a(511)},510:function(e,t,a){"use strict";var n=a(2),r=a.n(n),l=a(5),o=a.n(l),s=a(14),c=a.n(s),i=a(0),u=a(85),m=a.n(u),d=a(201),p=a.n(d),h=a(168),f=a.n(h),g=a(200),v=a.n(g),E=a(202),y=a.n(E),b=a(134),S=a.n(b),C=a(113),x=a.n(C),L=a(204),k=a.n(L),w=a(67),A=a.n(w),D=a(72),N=a(3),O=a.n(N),P=a(56);var M=a(25),R=a.n(M),U=a(33),_=a.n(U),I=a(34),j=a.n(I),F=a(35),T=a.n(F),z=function(e){j()(a,e);var t=T()(a);function a(){var e;return R()(this,a),(e=t.apply(this,arguments)).state={error:void 0,info:{componentStack:""}},e}return _()(a,[{key:"componentDidCatch",value:function(e,t){this.setState({error:e,info:t})}},{key:"render",value:function(){var e=this.props,t=e.message,a=e.description,n=e.children,r=this.state,l=r.error,o=r.info,s=o&&o.componentStack?o.componentStack:null,c="undefined"===typeof t?(l||"").toString():t,u="undefined"===typeof a?s:a;return l?i.createElement(V,{type:"error",message:c,description:i.createElement("pre",null,u)}):n}}]),a}(i.Component),B=a(27),Y=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a},W={success:S.a,info:k.a,error:A.a,warning:x.a},q={success:p.a,info:v.a,error:y.a,warning:f.a},J=function(e){var t,a=e.description,n=e.prefixCls,l=e.message,s=e.banner,u=e.className,d=void 0===u?"":u,p=e.style,h=e.onMouseEnter,f=e.onMouseLeave,g=e.onClick,v=e.afterClose,E=e.showIcon,y=e.closable,b=e.closeText,S=Y(e,["description","prefixCls","message","banner","className","style","onMouseEnter","onMouseLeave","onClick","afterClose","showIcon","closable","closeText"]),C=i.useState(!1),x=c()(C,2),L=x[0],k=x[1],w=i.useRef(),A=i.useContext(P.b),N=A.getPrefixCls,M=A.direction,R=N("alert",n),U=function(e){var t;k(!0),null===(t=S.onClose)||void 0===t||t.call(S,e)},_=!!b||y,I=function(){var e=S.type;return void 0!==e?e:s?"warning":"info"}(),j=!(!s||void 0!==E)||E,F=O()(R,"".concat(R,"-").concat(I),(t={},o()(t,"".concat(R,"-with-description"),!!a),o()(t,"".concat(R,"-no-icon"),!j),o()(t,"".concat(R,"-banner"),!!s),o()(t,"".concat(R,"-closable"),_),o()(t,"".concat(R,"-rtl"),"rtl"===M),t),d),T=function(e){return Object.keys(e).reduce((function(t,a){return"data-"!==a.substr(0,5)&&"aria-"!==a.substr(0,5)&&"role"!==a||"data-__"===a.substr(0,7)||(t[a]=e[a]),t}),{})}(S);return i.createElement(D.b,{visible:!L,motionName:"".concat(R,"-motion"),motionAppear:!1,motionEnter:!1,onLeaveStart:function(e){return{maxHeight:e.offsetHeight}},onLeaveEnd:v},(function(e){var t=e.className,n=e.style;return i.createElement("div",r()({ref:w,"data-show":!L,className:O()(F,t),style:r()(r()({},p),n),onMouseEnter:h,onMouseLeave:f,onClick:g,role:"alert"},T),j?function(){var e=S.icon,t=(a?q:W)[I]||null;return e?Object(B.c)(e,i.createElement("span",{className:"".concat(R,"-icon")},e),(function(){return{className:O()("".concat(R,"-icon"),o()({},e.props.className,e.props.className))}})):i.createElement(t,{className:"".concat(R,"-icon")})}():null,i.createElement("span",{className:"".concat(R,"-message")},l),i.createElement("span",{className:"".concat(R,"-description")},a),_?i.createElement("button",{type:"button",onClick:U,className:"".concat(R,"-close-icon"),tabIndex:0},b?i.createElement("span",{className:"".concat(R,"-close-text")},b):i.createElement(m.a,null)):null)}))};J.ErrorBoundary=z;var V=t.a=J},511:function(e,t,a){},513:function(e,t,a){"use strict";var n=a(0),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M176 474h672q8 0 8 8v60q0 8-8 8H176q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"},l=a(58),o=function(e,t){return n.createElement(l.a,Object.assign({},e,{ref:t,icon:r}))};o.displayName="PlusOutlined";t.a=n.forwardRef(o)},517:function(e,t,a){"use strict";var n=a(0),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}}]},name:"edit",theme:"outlined"},l=a(58),o=function(e,t){return n.createElement(l.a,Object.assign({},e,{ref:t,icon:r}))};o.displayName="EditOutlined";t.a=n.forwardRef(o)},518:function(e,t,a){"use strict";var n=a(0),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M893.3 293.3L730.7 130.7c-7.5-7.5-16.7-13-26.7-16V112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V338.5c0-17-6.7-33.2-18.7-45.2zM384 184h256v104H384V184zm456 656H184V184h136v136c0 17.7 14.3 32 32 32h320c17.7 0 32-14.3 32-32V205.8l136 136V840zM512 442c-79.5 0-144 64.5-144 144s64.5 144 144 144 144-64.5 144-144-64.5-144-144-144zm0 224c-44.2 0-80-35.8-80-80s35.8-80 80-80 80 35.8 80 80-35.8 80-80 80z"}}]},name:"save",theme:"outlined"},l=a(58),o=function(e,t){return n.createElement(l.a,Object.assign({},e,{ref:t,icon:r}))};o.displayName="SaveOutlined";t.a=n.forwardRef(o)},525:function(e,t,a){"use strict";var n=a(0),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"lock",theme:"outlined"},l=a(58),o=function(e,t){return n.createElement(l.a,Object.assign({},e,{ref:t,icon:r}))};o.displayName="LockOutlined";t.a=n.forwardRef(o)},529:function(e,t,a){"use strict";function n(e){var t="";return e&&(t=e.substr(5).charAt(0).toUpperCase()+e.substr(5).slice(1).toLowerCase()),t}a.d(t,"a",(function(){return n}))},533:function(e,t,a){"use strict";var n=a(0),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M511.4 124C290.5 124.3 112 303 112 523.9c0 128 60.2 242 153.8 315.2l-37.5 48c-4.1 5.3-.3 13 6.3 12.9l167-.8c5.2 0 9-4.9 7.7-9.9L369.8 727a8 8 0 00-14.1-3L315 776.1c-10.2-8-20-16.7-29.3-26a318.64 318.64 0 01-68.6-101.7C200.4 609 192 567.1 192 523.9s8.4-85.1 25.1-124.5c16.1-38.1 39.2-72.3 68.6-101.7 29.4-29.4 63.6-52.5 101.7-68.6C426.9 212.4 468.8 204 512 204s85.1 8.4 124.5 25.1c38.1 16.1 72.3 39.2 101.7 68.6 29.4 29.4 52.5 63.6 68.6 101.7 16.7 39.4 25.1 81.3 25.1 124.5s-8.4 85.1-25.1 124.5a318.64 318.64 0 01-68.6 101.7c-7.5 7.5-15.3 14.5-23.4 21.2a7.93 7.93 0 00-1.2 11.1l39.4 50.5c2.8 3.5 7.9 4.1 11.4 1.3C854.5 760.8 912 649.1 912 523.9c0-221.1-179.4-400.2-400.6-399.9z"}}]},name:"undo",theme:"outlined"},l=a(58),o=function(e,t){return n.createElement(l.a,Object.assign({},e,{ref:t,icon:r}))};o.displayName="UndoOutlined";t.a=n.forwardRef(o)},534:function(e,t,a){"use strict";var n=a(0),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M858.5 763.6a374 374 0 00-80.6-119.5 375.63 375.63 0 00-119.5-80.6c-.4-.2-.8-.3-1.2-.5C719.5 518 760 444.7 760 362c0-137-111-248-248-248S264 225 264 362c0 82.7 40.5 156 102.8 201.1-.4.2-.8.3-1.2.5-44.8 18.9-85 46-119.5 80.6a375.63 375.63 0 00-80.6 119.5A371.7 371.7 0 00136 901.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8 2-77.2 33-149.5 87.8-204.3 56.7-56.7 132-87.9 212.2-87.9s155.5 31.2 212.2 87.9C779 752.7 810 825 812 902.2c.1 4.4 3.6 7.8 8 7.8h60a8 8 0 008-8.2c-1-47.8-10.9-94.3-29.5-138.2zM512 534c-45.9 0-89.1-17.9-121.6-50.4S340 407.9 340 362c0-45.9 17.9-89.1 50.4-121.6S466.1 190 512 190s89.1 17.9 121.6 50.4S684 316.1 684 362c0 45.9-17.9 89.1-50.4 121.6S557.9 534 512 534z"}}]},name:"user",theme:"outlined"},l=a(58),o=function(e,t){return n.createElement(l.a,Object.assign({},e,{ref:t,icon:r}))};o.displayName="UserOutlined";t.a=n.forwardRef(o)},554:function(e,t,a){"use strict";var n=a(0),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464H332V240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v68c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-68c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zm-40 376H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"unlock",theme:"outlined"},l=a(58),o=function(e,t){return n.createElement(l.a,Object.assign({},e,{ref:t,icon:r}))};o.displayName="UnlockOutlined";t.a=n.forwardRef(o)},653:function(e,t,a){e.exports={text:"text--3PGMQ",icon:"icon--3pFiV"}},749:function(e,t,a){"use strict";a.r(t);var n=a(192),r=a(269),l=(a(268),a(130)),o=(a(272),a(196)),s=(a(273),a(199)),c=(a(274),a(203)),i=(a(209),a(106)),u=(a(167),a(71)),m=(a(191),a(50)),d=(a(194),a(91)),p=(a(271),a(195)),h=(a(83),a(38)),f=a(122),g=a(227),v=(a(267),a(99)),E=a(79),y=a(80),b=a(82),S=a(81),C=(a(197),a(132)),x=(a(131),a(54)),L=(a(166),a(98)),k=a(0),w=a.n(k),A=a(534),D=a(505),N=a(513),O=a(503),P=a(507),M=a(517),R=a(554),U=a(525),_=a(90),I=a(12),j=a(3),F=a.n(j),T=a(653),z=a.n(T),B=(a(198),a(133)),Y=(a(509),a(510)),W=(a(208),a(69)),q=(a(190),a(84)),J=a(31),V=a.n(J),H=a(518),G=a(533),K=a(114),Q=a.n(K),Z=a(508),X=a(529);V.a.locale("en");var $=x.a.Option,ee=function(e){Object(b.a)(a,e);var t=Object(S.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).formRef=w.a.createRef(),e.onFinish=function(t){var a=e.props,n=a.data,r=a.editUser,l=a.createUser;t.sellerLevel?t.sellerLevel={id:t.sellerLevel}:delete t.sellerLevel,t.roles=[t.roles],t.fbLink="https://".concat(t.fbLink),t.dob&&(t.dob=t.dob.toISOString()),n?r(Object(f.a)(Object(f.a)({},t),{},{id:n.id})):l(Object(f.a)({},t))},e.onReset=function(){e.formRef.current.resetFields()},e}return Object(y.a)(a,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this.props,a=t.editSuccess,n=t.createSuccess,r=t.onClose;!0===e.editSuccess&&e.editSuccess!==a&&(r(),v.b.success("Success!",1.5,(function(){window.location.reload()}))),!0===e.createSuccess&&e.createSuccess!==n&&(r(),v.b.success("Success!",1.5,(function(){window.location.reload()})))}},{key:"render",value:function(){var e=this,t=this.props,a=t.visible,n=t.onClose,r=t.editLoading,l=t.data,o=t.editError,s=t.createError,c=t.createLoading,i=t.listLevelsNoPaging,d=i.levels,f=i.loading;return w.a.createElement(B.a,{title:"".concat(l?"Edit":"Add New"," User"),destroyOnClose:!0,width:_.isMobile?"90%":"75%",onClose:n,visible:a,footer:w.a.createElement("div",{style:{textAlign:"right"}},w.a.createElement(p.a,null,w.a.createElement(h.a,{onClick:function(){return e.submitBtn.click()},icon:w.a.createElement(H.a,null),type:"primary",htmlType:"submit",loading:r||c},l?"Save":"Create"),l&&w.a.createElement(h.a,{icon:w.a.createElement(G.a,null),htmlType:"button",onClick:this.onReset},"Reset"),w.a.createElement(h.a,{onClick:n,style:{marginRight:8}},"Cancel")))},w.a.createElement(q.a,{ref:this.formRef,layout:"vertical",onFinish:this.onFinish,initialValues:{firstName:I.get(l,"firstName",""),lastName:I.get(l,"lastName",""),email:I.get(l,"email",""),password:I.get(l,"password",""),phone:I.get(l,"phone",""),address:I.get(l,"address",""),roles:I.get(l,"roles",[])[0],dob:I.get(l,"dob")?V()(I.get(l,"dob")):"",fbLink:I.get(l,"fbLink","").replace("https://",""),note:I.get(l,"note",""),sellerLevel:I.get(l,"sellerLevel","").id}},w.a.createElement(u.a,{gutter:24},w.a.createElement(m.a,{md:12,xs:24,style:{textAlign:"left"}},w.a.createElement(q.a.Item,{name:"firstName",label:w.a.createElement("span",{style:{fontFamily:"Poppins-Medium"}},"First Name"),rules:[{required:!0,message:"Please enter first name"}],style:{fontWeight:"500"}},w.a.createElement(L.a,{placeholder:"Enter first name"}))),w.a.createElement(m.a,{md:12,xs:24,style:{textAlign:"left"}},w.a.createElement(q.a.Item,{name:"lastName",label:w.a.createElement("span",{style:{fontFamily:"Poppins-Medium"}},"Last Name"),rules:[{required:!0,message:"Please enter last name"}],style:{fontWeight:"500"}},w.a.createElement(L.a,{placeholder:"Enter last name"})))),w.a.createElement(u.a,{gutter:24},w.a.createElement(m.a,{md:12,xs:24,style:{textAlign:"left"}},w.a.createElement(q.a.Item,{name:"email",label:w.a.createElement("span",{style:{fontFamily:"Poppins-Medium"}},"Email"),rules:[{type:"email",required:!0,message:"Please enter correct email"}],style:{fontWeight:"500"}},w.a.createElement(L.a,{placeholder:"Enter email"}))),w.a.createElement(m.a,{md:12,xs:24,style:{textAlign:"left"}},w.a.createElement(q.a.Item,{name:"phone",label:w.a.createElement("span",{style:{fontFamily:"Poppins-Medium"}},"Phone number"),rules:[{required:!0,message:"Please enter phone number"}],style:{fontWeight:"500"}},w.a.createElement(L.a,{placeholder:"Enter phone number"})))),w.a.createElement(u.a,{gutter:24},w.a.createElement(m.a,{md:12,xs:24,style:{textAlign:"left"}},w.a.createElement(q.a.Item,{name:"password",label:w.a.createElement("span",{style:{fontFamily:"Poppins-Medium"}},"Password"),rules:[{required:!l,message:"Please input your password! (at least 6 characters)",min:6}],style:{fontWeight:"500"}},w.a.createElement(L.a.Password,{placeholder:"Enter password"}))),w.a.createElement(m.a,{md:12,xs:24,style:{textAlign:"left"}},w.a.createElement(q.a.Item,{name:"address",label:w.a.createElement("span",{style:{fontFamily:"Poppins-Medium"}},"Address"),style:{fontWeight:"500"}},w.a.createElement(L.a,{placeholder:"Enter address"})))),w.a.createElement(u.a,{gutter:24},w.a.createElement(m.a,{md:12,xs:24,style:{textAlign:"left"}},w.a.createElement(q.a.Item,{label:w.a.createElement("span",{style:{fontFamily:"Poppins-Medium"}},"BirthDay"),name:"dob",style:{fontWeight:"500"}},w.a.createElement(C.a,{style:{width:"100%"},placeholder:"Enter your birthday",showToday:!1,format:"DD/MM/YYYY"}))),w.a.createElement(m.a,{md:12,xs:24,style:{textAlign:"left"}},w.a.createElement(q.a.Item,{noStyle:!0,shouldUpdate:function(e,t){return e.roles!==t.roles}},(function(e){var t=e.getFieldValue;return w.a.createElement(q.a.Item,{name:"sellerLevel",label:w.a.createElement("span",{style:{fontFamily:"Poppins-Medium"}},"Level"),style:{fontWeight:"500"}},w.a.createElement(x.a,{placeholder:"Select level",loading:f,disabled:"ROLE_SELLER"!==t("roles")},d&&d.map((function(e){return w.a.createElement($,{key:e.id||"",value:e.id||""},e.name||"")}))))})))),w.a.createElement(u.a,{gutter:24},w.a.createElement(m.a,{md:12,xs:24,style:{textAlign:"left"}},w.a.createElement(q.a.Item,{name:"fbLink",label:w.a.createElement("span",{style:{fontFamily:"Poppins-Medium"}},"Facebook link"),rules:[{message:"Please enter correct url"}],style:{fontWeight:"500"}},w.a.createElement(L.a,{addonBefore:"https://"}))),w.a.createElement(m.a,{md:12,xs:24,style:{textAlign:"left"}},w.a.createElement(q.a.Item,{name:"note",label:w.a.createElement("span",{style:{fontFamily:"Poppins-Medium"}},"Note"),style:{fontWeight:"500"}},w.a.createElement(L.a.TextArea,{rows:2})))),w.a.createElement(u.a,{gutter:24},w.a.createElement(m.a,{md:12,xs:24,style:{textAlign:"left"}},w.a.createElement(q.a.Item,{name:"roles",label:w.a.createElement("span",{style:{fontFamily:"Poppins-Medium"}},"Role"),rules:[{required:!0,message:"Please choose role"}]},w.a.createElement(W.a.Group,null,w.a.createElement(u.a,null,Q.a.roles.map((function(e){return w.a.createElement(m.a,{span:8,style:{marginBottom:15},key:e},w.a.createElement(W.a,{disabled:l,value:e},Object(X.a)(e)))})))))),w.a.createElement(m.a,{md:12,xs:24,style:{textAlign:"left"}},o&&w.a.createElement(u.a,null,w.a.createElement(m.a,{span:24},w.a.createElement(Y.a,{message:Z[o]||o,type:"error",showIcon:!0,style:{marginTop:"20px"}}))),s&&w.a.createElement(u.a,null,w.a.createElement(m.a,{span:24},w.a.createElement(Y.a,{message:Z[s]||s,type:"error",showIcon:!0,style:{marginTop:"20px"}}))),w.a.createElement(q.a.Item,{style:{display:"none"}},w.a.createElement(u.a,null,w.a.createElement(m.a,{md:l?12:24,xs:l?12:24},w.a.createElement(h.a,{ref:function(t){return e.submitBtn=t},icon:w.a.createElement(H.a,null),type:"primary",htmlType:"submit",loading:r||c},l?"Save":"Add"))))))))}}]),a}(k.Component),te=(a(276),a(205)),ae=(a(275),a(123)),ne=(a(277),a(170)),re=C.a.RangePicker,le=ne.a.Panel,oe={display:"block",height:"30px",lineHeight:"30px"},se=function(e){Object(b.a)(a,e);var t=Object(S.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r)))._onChangeStatus=function(t){e.props.onChangeStatus(t.target.value||void 0)},e._onChangeRole=function(t){Array.isArray(t)?e.props.onChangeRole(t):e.props.onChangeRole([])},e._onChangeDate=function(t){e.props.onChangeDate(t)},e._onChangeLevel=function(t){Array.isArray(t)?e.props.onChangeLevel(t):e.props.onChangeLevel([])},e._onChangeNextLevel=function(t){e.props.onChangeNextLevel(t.target.value||void 0)},e._onChangeSaleRange=function(t,a){e.props.onChangeSaleRange(t,a)},e._onSubmit=function(){e.props.onCloseDrawer(),e.props.onSubmit()},e}return Object(y.a)(a,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this.props,a=t.editSuccess,n=t.onClose;!0===e.editSuccess&&e.editSuccess!==a&&(n(),v.b.success("Success!",1.5,(function(){window.location.reload()})))}},{key:"render",value:function(){var e=this,t=this.props,a=t.visible,n=t.onClose,r=t.listLevelsNoPaging,l=t.status,o=t.roles,s=t.levels,c=t.nextLevel,i=t.fromSaleAmount,u=t.toSaleAmount,m=t.onClear,d=t.startDate,f=t.endDate;return w.a.createElement(B.a,{title:"More filters",width:_.isMobile?360:426,onClose:n,visible:a,className:"user-collapse-custom-collapse",footer:w.a.createElement("div",{style:{textAlign:"right"}},w.a.createElement(p.a,null,w.a.createElement(h.a,{onClick:this._onSubmit,type:"primary"},"Done"),w.a.createElement(h.a,{onClick:m,type:"link"},"Clear all filters")))},w.a.createElement(ne.a,{defaultActiveKey:["1","2","3","4","5","6"],expandIconPosition:"right",bordered:!1,style:{backgroundColor:"white"}},w.a.createElement(le,{header:w.a.createElement("span",{style:{fontWeight:600}},"Status"),key:"1",className:"user-collapse-custom-panel"},w.a.createElement(W.a.Group,{onChange:this._onChangeStatus,value:l},w.a.createElement(W.a,{style:oe,value:"active"},"Active"),w.a.createElement(W.a,{style:oe,value:"deactivate"},"Inactivate"),w.a.createElement(h.a,{style:{paddingLeft:"0"},type:"link",onClick:this._onChangeStatus},"Clear"))),w.a.createElement(le,{header:w.a.createElement("span",{style:{fontWeight:600}},"Date created"),key:"2",className:"user-collapse-custom-panel"},w.a.createElement(re,{ranges:{Today:[V()(),V()()],Yesterday:[V()().add(-1,"days"),V()().add(-1,"days")],"Last 7 days":[V()().subtract(6,"days"),V()()],"Last 30 days":[V()().subtract(29,"days"),V()()],"This Month":[V()().startOf("month"),V()().endOf("month")],"Last Month":[V()().subtract(1,"months").startOf("month"),V()().subtract(1,"months").endOf("month")]},showTime:!!_.isMobile,format:"DD/MM/YYYY",onChange:this._onChangeDate,style:{width:"100%",marginBottom:15},value:[d?V()(d):d,f?V()(f):f]}),w.a.createElement(h.a,{style:{paddingLeft:"0",marginBottom:5},type:"link",onClick:function(){return e._onChangeDate(null)}},"Clear")),w.a.createElement(le,{header:w.a.createElement("span",{style:{fontWeight:600}},"Roles"),key:"3",className:"user-collapse-custom-panel"},w.a.createElement(ae.a.Group,{style:{width:"100%"},onChange:this._onChangeRole,value:o},Q.a.roles.map((function(e){return w.a.createElement("div",{style:{display:"flex"},key:e},w.a.createElement(ae.a,{value:e,style:{marginBottom:"10px"}},Object(X.a)(e)))}))),w.a.createElement(h.a,{style:{paddingLeft:"0"},type:"link",onClick:this._onChangeRole},"Clear")),w.a.createElement(le,{header:w.a.createElement("span",{style:{fontWeight:600}},"Level"),key:"4",className:"user-collapse-custom-panel"},w.a.createElement(ae.a.Group,{style:{width:"100%"},onChange:this._onChangeLevel,value:s},r.levels&&r.levels.map((function(e){return w.a.createElement("div",{style:{display:"flex"},key:e.id||""},w.a.createElement(ae.a,{value:e.id,style:{marginBottom:"10px"}},e.name))}))),w.a.createElement(h.a,{style:{paddingLeft:"0"},type:"link",onClick:this._onChangeLevel},"Clear")),w.a.createElement(le,{header:w.a.createElement("span",{style:{fontWeight:600}},"Sale range"),key:"5",className:"user-collapse-custom-panel"},w.a.createElement(L.a.Group,{compact:!0,style:{marginBottom:15}},w.a.createElement(te.a,{onChange:function(t){return e._onChangeSaleRange("fromSaleAmount",t)},style:{width:"45%",textAlign:"center"},placeholder:"From",value:i}),w.a.createElement(L.a,{className:"site-input-split",style:{width:"10%",borderLeft:0,textAlign:"center",borderRight:0,pointerEvents:"none",backgroundColor:"transparent"},placeholder:"~",disabled:!0}),w.a.createElement(te.a,{onChange:function(t){return e._onChangeSaleRange("toSaleAmount",t)},className:"site-input-right",style:{width:"45%",textAlign:"center"},placeholder:"To",value:u})),w.a.createElement(h.a,{style:{paddingLeft:"0",marginTop:"10px"},type:"link",onClick:function(){return e._onChangeSaleRange(null,null)}},"Clear")),w.a.createElement(le,{header:w.a.createElement("span",{style:{fontWeight:600}},"Filter by users prepare to next level"),key:"6",className:"user-collapse-custom-panel"},w.a.createElement(W.a.Group,{onChange:this._onChangeNextLevel,value:c},r.levels&&r.levels.map((function(e){return w.a.createElement(W.a,{style:oe,value:e.id,key:e.id},e.name)})),w.a.createElement(h.a,{style:{paddingLeft:"0"},type:"link",onClick:this._onChangeNextLevel},"Clear")))))}}]),a}(k.Component);var ce=L.a.Search,ie=x.a.Option,ue=C.a.RangePicker,me="deleteTransaction",de={marginBottom:"15px",fontSize:"13px",padding:"2px 8px",borderStyle:"dashed"},pe=function(e){Object(b.a)(a,e);var t=Object(S.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={pageSize:10,currentPage:0,userData:null,openEditUserDrawer:!1,openFilterUserDrawer:!1,status:void 0,roles:[],levels:[],nextLevel:void 0,startDate:void 0,endDate:void 0,fromSaleAmount:"",toSaleAmount:"",sortedInfo:{order:"descend",columnKey:"createdDate"},keyword:""},e.showEditUserDrawer=function(t){e.setState({openEditUserDrawer:!0,userData:t})},e.onCloseDrawer=function(){e.setState({userData:null,openEditUserDrawer:!1,openFilterUserDrawer:!1})},e.onShowSizeChange=function(t,a){e.setState({pageSize:a})},e.handleLock=function(t){v.b.loading({content:"Loading...",key:me}),e.props.lockUser({activated:!t.activated,email:t.email})},e.onChangeStatus=function(t){e.setState({status:t},(function(){e.onSubmit()}))},e.onChangeRole=function(t){e.setState({roles:t},(function(){e.onSubmit()}))},e.onChangeLevel=function(t){e.setState({levels:t},(function(){e.onSubmit()}))},e.onChangeNextLevel=function(t){e.setState({nextLevel:t},(function(){e.onSubmit()}))},e.onChangeSaleRange=function(t,a){t?e.setState(Object(g.a)({},t,a)):(e.setState({fromSaleAmount:"",toSaleAmount:""}),e.onSubmit())},e.onChangeDate=function(t){t?e.setState({startDate:t[0],endDate:t[1]},(function(){e.onSubmit()})):e.setState({startDate:void 0,endDate:void 0},(function(){e.onSubmit()}))},e.onClear=function(){e.setState({status:void 0,roles:[],levels:[],nextLevel:void 0,fromSaleAmount:"",toSaleAmount:""},(function(){e.onSubmit()}))},e.onRemoveTag=function(t){switch(t){case"status":return e.onChangeStatus(void 0);case"roles":return e.onChangeRole([]);case"levels":return e.onChangeLevel([]);case"nextLevel":return e.onChangeNextLevel(void 0);case"saleRange":return e.onChangeSaleRange(null,null);case"dates":return e.onChangeDate(null,null)}},e.debounceSearch=I.debounce((function(t){e.setState({keyword:t.trim()},(function(){1!==t.length&&e.onSubmit()}))}),300),e.onChangeKeyWord=function(t){e.debounceSearch(t.target.value)},e.checkParam=function(){var t=e.state,a=t.status,n=t.roles,r=t.levels,l=t.nextLevel,o=t.fromSaleAmount,s=t.toSaleAmount,c=t.currentPage,i=t.startDate,u=t.endDate,m=t.pageSize,d=t.sortedInfo,p=t.keyword,h={};return a&&(h.activated="active"===a),n&&n.length>0&&(h.roles=n.join()),r&&r.length&&(h.sellerLevelIds=r.join()),l&&(h.nextLevelFilter=l),i&&u&&(h.startDate="".concat(i.format("YYYY-MM-DDT00:00:00.000"),"Z"),h.endDate="".concat(u.format("YYYY-MM-DDT23:59:59.000"),"Z")),o&&(h.fromSaleAmount=o),s&&(h.toSaleAmount=s),d&&d.order&&d.columnKey&&(h.sort="".concat(d.columnKey,",").concat("descend"===d.order?"desc":"asc")),h.keyword=p,h.page=c,h.size=m,h},e.onExport=function(){e.props.exportUsers(e.checkParam())},e.handleTableChange=function(t,a,n){void 0===n.order&&void 0===n.column?e.setState({currentPage:t.current-1,sortedInfo:{columnKey:"createdDate",order:"descend"}},(function(){e.props.fetchAllUsers(e.checkParam())})):e.setState({currentPage:t.current-1,sortedInfo:Object(f.a)(Object(f.a)({},e.state.sortedInfo),{},{columnKey:n.columnKey,order:n.order})},(function(){e.props.fetchAllUsers(e.checkParam())}))},e.onSearch=function(t){t&&e.onSubmit()},e.onSubmit=function(){e.setState({currentPage:0},(function(){e.props.fetchAllUsers(e.checkParam())}))},e}return Object(y.a)(a,[{key:"componentDidMount",value:function(){this.props.fetchAllSellerLevelsNoPaging(),this.props.fetchAllUsers(this.checkParam())}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this.props,a=t.lockSuccess,n=t.lockError,r=t.exportError;!0===e.lockSuccess&&e.lockSuccess!==a&&v.b.success({content:"Success!",key:me,duration:1.5,onClose:function(){window.location.reload()}}),e.lockError&&e.lockError!==n&&v.b.error({content:Z[e.lockError]||e.lockError,key:me,duration:2}),e.exportError&&e.exportError!==r&&v.b.error({content:Z[e.exportError]||e.exportError,key:me,duration:2})}},{key:"render",value:function(){for(var e=this,t=this.state,a=t.userData,n=t.openEditUserDrawer,r=t.openFilterUserDrawer,f=t.status,g=t.roles,v=t.levels,E=t.nextLevel,y=t.pageSize,b=t.currentPage,S=t.fromSaleAmount,C=t.toSaleAmount,k=t.startDate,j=t.endDate,T=this.props,B=T.listUsers,Y=T.listLevelsNoPaging,W=T.editUser,q=T.createUser,J=T.fetchAllSellerLevelsNoPaging,H=T.editLoading,G=T.editSuccess,K=T.editError,Z=T.createLoading,$=T.createError,te=T.createSuccess,ae=T.exportLoading,ne=B.users,re=B.loading,le=B.totalElements,oe=[],me=0;me<v.length;me++)for(var pe=0;pe<Y.levels.length;pe++)v[me]===Y.levels[pe].id&&oe.push("".concat(Y.levels[pe].name));return w.a.createElement(w.a.Fragment,null,w.a.createElement(l.a,{title:w.a.createElement("span",null,w.a.createElement(A.a,{style:{marginRight:"5px"}})," USERS MANAGEMENT"),headStyle:{color:"rgba(0, 0, 0, 0.45)"},extra:w.a.createElement(p.a,null,w.a.createElement(h.a,{type:"link",icon:w.a.createElement(D.a,null),size:_.isMobile?"small":"middle",onClick:this.onExport,loading:ae},"Export"),w.a.createElement(h.a,{type:"primary",icon:w.a.createElement(N.a,null),size:_.isMobile?"small":"middle",onClick:function(){return e.setState({openEditUserDrawer:!0})}},"Create new user"))},w.a.createElement(L.a.Group,null,w.a.createElement(u.a,{gutter:24},w.a.createElement(m.a,{md:4,xs:24},w.a.createElement(ce,{allowClear:!0,placeholder:"Search by name, mail, phone",onSearch:this.onSearch,onChange:this.onChangeKeyWord,style:{width:"100%"},suffix:w.a.createElement(d.a,{title:"Search by name, mail, phone"},w.a.createElement(O.a,{style:{color:"rgba(0,0,0,.45)"}}))})),w.a.createElement(m.a,{md:4,xs:24},w.a.createElement(ue,{ranges:{Today:[V()(),V()()],Yesterday:[V()().add(-1,"days"),V()().add(-1,"days")],"Last 7 days":[V()().subtract(6,"days"),V()()],"Last 30 days":[V()().subtract(29,"days"),V()()],"This Month":[V()().startOf("month"),V()().endOf("month")],"Last Month":[V()().subtract(1,"months").startOf("month"),V()().subtract(1,"months").endOf("month")]},showTime:!!_.isMobile,format:"DD/MM/YYYY",onChange:this.onChangeDate,style:{width:"100%"},value:[k?V()(k):k,j?V()(j):j]})),w.a.createElement(m.a,{md:4,xs:24},w.a.createElement(x.a,{allowClear:!0,style:{width:"100%"},placeholder:"Filter by status",onChange:this.onChangeStatus,value:f},w.a.createElement(ie,{value:"active"},"Active"),w.a.createElement(ie,{value:"deactivate"},"Inactivate"))),w.a.createElement(m.a,{md:4,xs:24},w.a.createElement(x.a,{showSearch:!0,allowClear:!0,optionFilterProp:"children",filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0||t.props.value.toLowerCase().indexOf(e.toLowerCase())>=0},style:{width:"100%"},placeholder:"Filter by roles",mode:"multiple",onChange:this.onChangeRole,value:g},Q.a.roles.map((function(e){return w.a.createElement(ie,{key:e,value:e},Object(X.a)(e))})))),w.a.createElement(m.a,{md:4,xs:24},w.a.createElement(x.a,{placeholder:"Filter by level",showSearch:!0,allowClear:!0,optionFilterProp:"children",filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0||t.props.value.toLowerCase().indexOf(e.toLowerCase())>=0},style:{width:"100%"},loading:Y.loading,mode:"multiple",onChange:this.onChangeLevel,value:v},Y.levels&&Y.levels.map((function(e){return w.a.createElement(ie,{key:e.id||"",value:e.id||""},e.name||"")})))),w.a.createElement(m.a,{md:4,xs:12},w.a.createElement(h.a,{style:{width:"100%"},icon:w.a.createElement(P.a,null),onClick:function(){return e.setState({openFilterUserDrawer:!0})}},"More filters")))),w.a.createElement("br",null),w.a.createElement("div",{style:{marginBottom:"10px"}},f&&w.a.createElement(i.a,{closable:!0,onClose:function(){return e.onRemoveTag("status")},style:de},"".concat(f.charAt(0).toUpperCase()+f.slice(1)," Users")),k&&j&&w.a.createElement(i.a,{closable:!0,onClose:function(){return e.onRemoveTag("dates")},style:de},"From ".concat(new Date(k).toLocaleDateString("en-GB")," to ").concat(new Date(j).toLocaleDateString("en-GB"))),g.length>0&&w.a.createElement(i.a,{closable:!0,onClose:function(){return e.onRemoveTag("roles")},style:de},"Role is \n                                        ".concat(g.map((function(e){return Object(X.a)(e)})))),v.length>0&&w.a.createElement(i.a,{closable:!0,onClose:function(){return e.onRemoveTag("levels")},style:de},"Level is ".concat(oe)),0!==C&&""!==C&&w.a.createElement(i.a,{closable:!0,onClose:function(){return e.onRemoveTag("saleRange")},style:de},"Sale range from ".concat(S," to ").concat(C)),E&&w.a.createElement(i.a,{closable:!0,onClose:function(){return e.onRemoveTag("nextLevel")},style:de},"Filter by users prepare to the next level is ".concat(I.find(Y.levels,{id:E})?I.find(Y.levels,{id:E}).name:""))),w.a.createElement(o.a,{rowKey:function(e){return e.id},columns:[{title:"Name",dataIndex:"activated",key:"activated",sorter:!0,render:function(e,t){return w.a.createElement(c.a,{status:e?"success":"warning",text:"".concat(t.firstName," ").concat(t.lastName)})}},{title:"Email",dataIndex:"email",key:"email",ellipsis:!_.isMobile},{title:"Phone",dataIndex:"phone",key:"phone"},{title:"Address",dataIndex:"address",key:"address",ellipsis:!_.isMobile},{title:"Created Date",dataIndex:"createdDate",key:"createdDate",sorter:!0,render:function(e){return new Date(e).toLocaleString("en-GB")||""}},{title:"Total Order",dataIndex:"totalOrder",key:"totalOrder",render:function(e){return parseFloat(e).toLocaleString("en-GB")},sorter:!0},{title:"Sale amount",dataIndex:"saleAmount",key:"saleAmount",render:function(e){return parseFloat(e).toLocaleString("en-GB")},sorter:!0},{title:"Level",dataIndex:"sellerLevel",key:"sellerLevel",render:function(e){return e?e.name:""}},{title:"Roles",dataIndex:"roles",key:"roles",render:function(e){return e.map((function(e){return w.a.createElement(i.a,{key:e,color:(t=e,t===Q.a.roles[0]?"red":t===Q.a.roles[1]?"volcano":t===Q.a.roles[2]?"orange":t===Q.a.roles[3]?"blue":t===Q.a.roles[4]?"geekblue":t===Q.a.roles[5]?"purple":"")},Object(X.a)(e));var t}))}},{title:"Actions",key:"action",render:function(t,a){return w.a.createElement(p.a,{size:"middle"},w.a.createElement(d.a,{title:"Edit"},w.a.createElement(M.a,{className:F()("blue",z.a.icon),onClick:function(){e.showEditUserDrawer(a)}})),w.a.createElement(s.a,{title:"Are you sure to ".concat(a.activated?"Lock":"Unlock"," this user\uff1f"),okText:"Yes",cancelText:"No",onConfirm:function(){e.handleLock(a)}},a.activated?w.a.createElement(U.a,{className:F()("red",z.a.icon)}):w.a.createElement(R.a,{className:F()("green",z.a.icon)})))}}],dataSource:ne,pagination:{current:b+1,pageSize:y,total:le,showSizeChanger:!0,onShowSizeChange:this.onShowSizeChange,showLessItems:!0,showQuickJumper:!0,showTotal:function(e){return"Total ".concat(e," users")}},loading:re,showSizeChanger:!0,onChange:this.handleTableChange})),w.a.createElement(ee,{visible:n,listLevelsNoPaging:Y,onClose:this.onCloseDrawer,editUser:W,createUser:q,fetchAllSellerLevelsNoPaging:J,data:a,editLoading:H,editSuccess:G,editError:K,createError:$,createLoading:Z,createSuccess:te}),w.a.createElement(se,{visible:r,onClose:this.onCloseDrawer,onChangeStatus:this.onChangeStatus,onChangeRole:this.onChangeRole,onChangeLevel:this.onChangeLevel,onChangeNextLevel:this.onChangeNextLevel,onChangeSaleRange:this.onChangeSaleRange,onClear:this.onClear,onSubmit:this.onSubmit,onCloseDrawer:this.onCloseDrawer,listLevelsNoPaging:Y,status:f,roles:g,levels:v,fromSaleAmount:S,toSaleAmount:C,nextLevel:E,startDate:k,endDate:j,onChangeDate:this.onChangeDate}))}}]),a}(k.Component);t.default=Object(n.b)((function(e){return{listUsers:e.toJS().users.listUsers,listLevelsNoPaging:e.toJS().sellerLevels.listLevelsNoPaging,exportLoading:e.toJS().users.exportLoading,exportError:e.toJS().users.exportError,createLoading:e.toJS().users.createLoading,createSuccess:e.toJS().users.createSuccess,createError:e.toJS().users.createError,editLoading:e.toJS().users.editLoading,editSuccess:e.toJS().users.editSuccess,editError:e.toJS().users.editError,lockLoading:e.toJS().users.lockLoading,lockSuccess:e.toJS().users.lockSuccess,lockError:e.toJS().users.lockError}}),(function(e){return{fetchAllUsers:function(t){return e(r.q.fetchAllUsers(t))},createUser:function(t){return e(r.q.createUser(t))},editUser:function(t){return e(r.q.editUser(t))},lockUser:function(t){return e(r.q.lockUser(t))},exportUsers:function(t){return e(r.q.exportUsers(t))},fetchAllSellerLevelsNoPaging:function(){return e(r.l.fetchAllSellerLevelsNoPaging())}}}))(pe)}}]);
//# sourceMappingURL=14.bb8b09a3.chunk.js.map