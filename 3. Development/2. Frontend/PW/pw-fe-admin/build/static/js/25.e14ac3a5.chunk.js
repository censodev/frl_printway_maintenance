(this.webpackJsonppgc_admin_dev=this.webpackJsonppgc_admin_dev||[]).push([[25],{508:function(e){e.exports=JSON.parse('{"duplicated_data.site":"Duplicate data site","duplicated_data.email":"Email already exists!","invalid_data.transaction_id_exist":"Transaction ID has exist!","error.userexists":"Account has exists!","invalid_data.not_https":"Https is required!","invalid_data.max_site":"Only one site created!","invalid_data.product_type_constrain":"Error, this product type is running"}')},524:function(e,t,a){"use strict";var n=a(0),c={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"},r=a(58),o=function(e,t){return n.createElement(r.a,Object.assign({},e,{ref:t,icon:c}))};o.displayName="DeleteOutlined";t.a=n.forwardRef(o)},525:function(e,t,a){"use strict";var n=a(0),c={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"lock",theme:"outlined"},r=a(58),o=function(e,t){return n.createElement(r.a,Object.assign({},e,{ref:t,icon:c}))};o.displayName="LockOutlined";t.a=n.forwardRef(o)},554:function(e,t,a){"use strict";var n=a(0),c={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464H332V240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v68c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-68c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zm-40 376H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"unlock",theme:"outlined"},r=a(58),o=function(e,t){return n.createElement(r.a,Object.assign({},e,{ref:t,icon:c}))};o.displayName="UnlockOutlined";t.a=n.forwardRef(o)},652:function(e,t,a){e.exports={text:"text--50eN-",icon:"icon--GVTm5"}},740:function(e,t,a){"use strict";var n=a(0),c={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.4 800.9c.2-.3.5-.6.7-.9C920.6 722.1 960 621.7 960 512s-39.4-210.1-104.8-288c-.2-.3-.5-.5-.7-.8-1.1-1.3-2.1-2.5-3.2-3.7-.4-.5-.8-.9-1.2-1.4l-4.1-4.7-.1-.1c-1.5-1.7-3.1-3.4-4.6-5.1l-.1-.1c-3.2-3.4-6.4-6.8-9.7-10.1l-.1-.1-4.8-4.8-.3-.3c-1.5-1.5-3-2.9-4.5-4.3-.5-.5-1-1-1.6-1.5-1-1-2-1.9-3-2.8-.3-.3-.7-.6-1-1C736.4 109.2 629.5 64 512 64s-224.4 45.2-304.3 119.2c-.3.3-.7.6-1 1-1 .9-2 1.9-3 2.9-.5.5-1 1-1.6 1.5-1.5 1.4-3 2.9-4.5 4.3l-.3.3-4.8 4.8-.1.1c-3.3 3.3-6.5 6.7-9.7 10.1l-.1.1c-1.6 1.7-3.1 3.4-4.6 5.1l-.1.1c-1.4 1.5-2.8 3.1-4.1 4.7-.4.5-.8.9-1.2 1.4-1.1 1.2-2.1 2.5-3.2 3.7-.2.3-.5.5-.7.8C103.4 301.9 64 402.3 64 512s39.4 210.1 104.8 288c.2.3.5.6.7.9l3.1 3.7c.4.5.8.9 1.2 1.4l4.1 4.7c0 .1.1.1.1.2 1.5 1.7 3 3.4 4.6 5l.1.1c3.2 3.4 6.4 6.8 9.6 10.1l.1.1c1.6 1.6 3.1 3.2 4.7 4.7l.3.3c3.3 3.3 6.7 6.5 10.1 9.6 80.1 74 187 119.2 304.5 119.2s224.4-45.2 304.3-119.2a300 300 0 0010-9.6l.3-.3c1.6-1.6 3.2-3.1 4.7-4.7l.1-.1c3.3-3.3 6.5-6.7 9.6-10.1l.1-.1c1.5-1.7 3.1-3.3 4.6-5 0-.1.1-.1.1-.2 1.4-1.5 2.8-3.1 4.1-4.7.4-.5.8-.9 1.2-1.4a99 99 0 003.3-3.7zm4.1-142.6c-13.8 32.6-32 62.8-54.2 90.2a444.07 444.07 0 00-81.5-55.9c11.6-46.9 18.8-98.4 20.7-152.6H887c-3 40.9-12.6 80.6-28.5 118.3zM887 484H743.5c-1.9-54.2-9.1-105.7-20.7-152.6 29.3-15.6 56.6-34.4 81.5-55.9A373.86 373.86 0 01887 484zM658.3 165.5c39.7 16.8 75.8 40 107.6 69.2a394.72 394.72 0 01-59.4 41.8c-15.7-45-35.8-84.1-59.2-115.4 3.7 1.4 7.4 2.9 11 4.4zm-90.6 700.6c-9.2 7.2-18.4 12.7-27.7 16.4V697a389.1 389.1 0 01115.7 26.2c-8.3 24.6-17.9 47.3-29 67.8-17.4 32.4-37.8 58.3-59 75.1zm59-633.1c11 20.6 20.7 43.3 29 67.8A389.1 389.1 0 01540 327V141.6c9.2 3.7 18.5 9.1 27.7 16.4 21.2 16.7 41.6 42.6 59 75zM540 640.9V540h147.5c-1.6 44.2-7.1 87.1-16.3 127.8l-.3 1.2A445.02 445.02 0 00540 640.9zm0-156.9V383.1c45.8-2.8 89.8-12.5 130.9-28.1l.3 1.2c9.2 40.7 14.7 83.5 16.3 127.8H540zm-56 56v100.9c-45.8 2.8-89.8 12.5-130.9 28.1l-.3-1.2c-9.2-40.7-14.7-83.5-16.3-127.8H484zm-147.5-56c1.6-44.2 7.1-87.1 16.3-127.8l.3-1.2c41.1 15.6 85 25.3 130.9 28.1V484H336.5zM484 697v185.4c-9.2-3.7-18.5-9.1-27.7-16.4-21.2-16.7-41.7-42.7-59.1-75.1-11-20.6-20.7-43.3-29-67.8 37.2-14.6 75.9-23.3 115.8-26.1zm0-370a389.1 389.1 0 01-115.7-26.2c8.3-24.6 17.9-47.3 29-67.8 17.4-32.4 37.8-58.4 59.1-75.1 9.2-7.2 18.4-12.7 27.7-16.4V327zM365.7 165.5c3.7-1.5 7.3-3 11-4.4-23.4 31.3-43.5 70.4-59.2 115.4-21-12-40.9-26-59.4-41.8 31.8-29.2 67.9-52.4 107.6-69.2zM165.5 365.7c13.8-32.6 32-62.8 54.2-90.2 24.9 21.5 52.2 40.3 81.5 55.9-11.6 46.9-18.8 98.4-20.7 152.6H137c3-40.9 12.6-80.6 28.5-118.3zM137 540h143.5c1.9 54.2 9.1 105.7 20.7 152.6a444.07 444.07 0 00-81.5 55.9A373.86 373.86 0 01137 540zm228.7 318.5c-39.7-16.8-75.8-40-107.6-69.2 18.5-15.8 38.4-29.7 59.4-41.8 15.7 45 35.8 84.1 59.2 115.4-3.7-1.4-7.4-2.9-11-4.4zm292.6 0c-3.7 1.5-7.3 3-11 4.4 23.4-31.3 43.5-70.4 59.2-115.4 21 12 40.9 26 59.4 41.8a373.81 373.81 0 01-107.6 69.2z"}}]},name:"global",theme:"outlined"},r=a(58),o=function(e,t){return n.createElement(r.a,Object.assign({},e,{ref:t,icon:c}))};o.displayName="GlobalOutlined";t.a=n.forwardRef(o)},769:function(e,t,a){"use strict";a.r(t);var n=a(192),c=a(269),r=(a(268),a(130)),o=(a(272),a(196)),i=(a(271),a(195)),s=(a(273),a(199)),l=(a(167),a(71)),d=(a(191),a(50)),u=a(122),h=(a(274),a(203)),m=(a(267),a(99)),f=a(79),v=a(80),S=a(82),g=a(81),p=(a(197),a(132)),y=(a(131),a(54)),E=(a(166),a(98)),b=a(0),w=a.n(b),k=a(740),z=a(554),C=a(525),x=a(524),D=a(3),M=a.n(D),O=a(652),A=a.n(O),T=a(508),I=a(12),V=a(31),L=a.n(V),_=a(90),N=E.a.Search,H=y.a.Option,P=p.a.RangePicker,J="deleteTransaction",Y=function(e){Object(S.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(f.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={startDate:void 0,endDate:void 0,status:void 0,seller:void 0,pageSize:10,currentPage:0,keyword:"",sortedInfo:{order:"descend",columnKey:"createdDate"}},e.onChangeStatus=function(t){e.setState({status:t},(function(){e.onSubmit()}))},e.onChangeSeller=function(t){e.setState({seller:t},(function(){e.onSubmit()}))},e.onChangeDate=function(t,a){t?e.setState({startDate:"".concat(t[0].format("YYYY-MM-DDT00:00:00.000"),"Z"),endDate:"".concat(t[1].format("YYYY-MM-DDT23:59:59.000"),"Z")},(function(){e.onSubmit()})):e.setState({startDate:void 0,endDate:void 0},(function(){e.onSubmit()}))},e.handleActivate=function(t){t&&(m.b.loading({content:"Loading...",key:J}),e.props.activateSite(t))},e.checkStatus=function(e){var t=null;return e.sync||e.active||e.deleted?e.sync&&e.active&&!e.deleted?t=w.a.createElement(h.a,{status:"success",text:"Active"}):!e.sync||e.active||e.deleted?e.sync&&!e.active&&e.deleted&&(t=w.a.createElement(h.a,{status:"error",text:"Removed"})):t=w.a.createElement(h.a,{status:"warning",text:"Inactive"}):t=w.a.createElement(h.a,{status:"warning",text:"Pending"}),t},e.handleDelete=function(t){t&&(m.b.loading({content:"Loading...",key:J}),e.props.deleteSite(t))},e.debounceSearch=I.debounce((function(t){e.setState({keyword:t.trim()},(function(){1!==t.length&&e.onSubmit()}))}),300),e.onChangeKeyWord=function(t){e.debounceSearch(t.target.value)},e.onShowSizeChange=function(t,a){e.setState({pageSize:a})},e.checkParam=function(){var t=e.state,a=t.status,n=t.seller,c=t.currentPage,r=t.pageSize,o=t.sortedInfo,i=t.startDate,s=t.endDate,l=t.keyword,d={};return a&&(d.status=a),n&&(d.seller=I.find(e.props.listSeller.sellers,{id:n})&&I.find(e.props.listSeller.sellers,{id:n}).email),i&&s&&(d.startDate=i,d.endDate=s),o&&o.order&&o.columnKey&&(d.sort="".concat(o.columnKey,",").concat("descend"===o.order?"desc":"asc")),d.keyword=l,d.page=c,d.size=r,d},e.handleTableChange=function(t,a,n){void 0===n.order&&void 0===n.column?e.setState({currentPage:t.current-1,sortedInfo:{columnKey:"createdDate",order:"descend"}},(function(){e.props.fetchAllSites(e.checkParam())})):e.setState({currentPage:t.current-1,sortedInfo:Object(u.a)(Object(u.a)({},e.state.sortedInfo),{},{columnKey:n.columnKey,order:n.order})},(function(){e.props.fetchAllSites(e.checkParam())}))},e.onSearch=function(t){t&&e.onSubmit()},e.onSubmit=function(){e.setState({currentPage:0},(function(){e.props.fetchAllSites(e.checkParam())}))},e}return Object(v.a)(a,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this.props,a=t.deleteSuccess,n=t.deleteError,c=t.activateSuccess,r=t.activateError;!0===e.deleteSuccess&&e.deleteSuccess!==a&&m.b.success({content:"Success!",key:J,duration:1.5,onClose:function(){window.location.reload()}}),e.deleteError&&e.deleteError!==n&&m.b.error({content:T[e.deleteError]||e.deleteError,key:J,duration:2}),!0===e.activateSuccess&&e.activateSuccess!==c&&m.b.success({content:"Success!",key:J,duration:1.5,onClose:function(){window.location.reload()}}),e.activateError&&e.activateError!==r&&m.b.error({content:T[e.activateError]||e.activateError,key:J,duration:2})}},{key:"componentDidMount",value:function(){var e=this.props,t=e.listSeller,a=e.fetchAllSites,n=e.fetchAllSeller;a(this.checkParam()),0===t.sellers.length&&n()}},{key:"render",value:function(){var e=this,t=this.state,a=t.pageSize,n=t.currentPage,c=t.status,u=t.seller,h=this.props,m=h.listSites,f=h.listSeller,v=m.sites,S=m.loading,g=m.totalElements;return w.a.createElement(w.a.Fragment,null,w.a.createElement(r.a,{title:w.a.createElement("span",null,w.a.createElement(k.a,{style:{marginRight:"5px"}})," SITES"),headStyle:{color:"rgba(0, 0, 0, 0.45)"}},w.a.createElement(E.a.Group,null,w.a.createElement(l.a,{gutter:24},w.a.createElement(d.a,{md:8,xs:24},w.a.createElement(N,{allowClear:!0,placeholder:"Search by name, platform",onSearch:this.onSearch,onChange:this.onChangeKeyWord,style:{width:"100%"}})),w.a.createElement(d.a,{md:5,xs:24},w.a.createElement(P,{ranges:{Today:[L()(),L()()],Yesterday:[L()().add(-1,"days"),L()().add(-1,"days")],"Last 7 days":[L()().subtract(6,"days"),L()()],"Last 30 days":[L()().subtract(29,"days"),L()()],"This Month":[L()().startOf("month"),L()().endOf("month")],"Last Month":[L()().subtract(1,"months").startOf("month"),L()().subtract(1,"months").endOf("month")]},showTime:!!_.isMobile,format:"DD/MM/YYYY",onChange:this.onChangeDate,style:{width:"100%"}})),w.a.createElement(d.a,{md:4,xs:24},w.a.createElement(y.a,{allowClear:!0,style:{width:"100%"},placeholder:"Filter by status",onChange:this.onChangeStatus,value:c},w.a.createElement(H,{value:"ACTIVE"},"Active"),w.a.createElement(H,{value:"IN_ACTIVE"},"Inactivate"),w.a.createElement(H,{value:"REMOVE"},"Removed"))),w.a.createElement(d.a,{md:4,xs:24},w.a.createElement(y.a,{showSearch:!0,allowClear:!0,optionFilterProp:"children",filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0||t.props.value.toLowerCase().indexOf(e.toLowerCase())>=0},style:{width:"100%"},placeholder:"Filter by seller",onChange:this.onChangeSeller,value:u},f.sellers.map((function(e){return w.a.createElement(H,{key:e.id,value:e.id},"".concat(e.lastName||""," ").concat(e.firstName||""))})))))),w.a.createElement("br",null),w.a.createElement(o.a,{rowKey:function(e){return e.id},columns:[{title:"Name",dataIndex:"title",key:"title"},{title:"Url",dataIndex:"url",key:"url",render:function(e,t){return t.virtual?"":w.a.createElement("a",{href:e,target:"_blank"},e)}},{title:"Platform",dataIndex:"siteType",key:"siteType"},{title:"Seller",dataIndex:"fullName",key:"fullName"},{title:"Connected date",dataIndex:"connectDate",key:"connectDate",sorter:!0,render:function(e){return e?new Date(e).toLocaleString("en-GB"):"-"}},{title:"REMOVE"===c||void 0===c?"Deleted date":"",dataIndex:"deletedDate",key:"deletedDate",sorter:"REMOVE"===c||void 0===c,render:"REMOVE"===c||void 0===c?function(e){return e?new Date(e).toLocaleString("en-GB"):"-"}:""},{title:"Status",dataIndex:"active",key:"active",render:function(t,a){return e.checkStatus(a)}},{title:"Actions",key:"action",render:function(t,a){return a.deleted?"":w.a.createElement(i.a,{size:"middle"},w.a.createElement(s.a,{title:"Are you sure to ".concat(!a.sync||a.active||a.deleted?a.sync&&a.active&&!a.deleted?"Deactivate":"-":"Activate"," this site\uff1f"),okText:"Yes",cancelText:"No",onConfirm:function(){e.handleActivate(a.id)}},!a.sync||a.active||a.deleted?a.sync&&a.active&&!a.deleted?w.a.createElement(C.a,{className:M()("red",A.a.icon)}):"":w.a.createElement(z.a,{className:M()("green",A.a.icon)})),w.a.createElement(s.a,{title:"Are you sure to delete this Site\uff1f",okText:"Yes",cancelText:"No",onConfirm:function(){e.handleDelete(a.id)}},w.a.createElement(x.a,{className:M()("orange",A.a.icon)})))}}],dataSource:v,pagination:{current:n+1,pageSize:a,total:g,showSizeChanger:!0,onShowSizeChange:this.onShowSizeChange,showLessItems:!0,showQuickJumper:!0,showTotal:function(e){return"Total ".concat(e," items")}},loading:S,onChange:this.handleTableChange})))}}]),a}(b.Component);t.default=Object(n.b)((function(e){return{listSites:e.toJS().sites.listSites,listSeller:e.toJS().products.listSeller,createLoading:e.toJS().sites.createLoading,createSuccess:e.toJS().sites.createSuccess,createError:e.toJS().sites.createError,deleteLoading:e.toJS().sites.deleteLoading,deleteSuccess:e.toJS().sites.deleteSuccess,deleteError:e.toJS().sites.deleteError,activateLoading:e.toJS().sites.activateLoading,activateSuccess:e.toJS().sites.activateSuccess,activateError:e.toJS().sites.activateError}}),(function(e){return{fetchAllSites:function(t){return e(c.m.fetchAllSites(t))},fetchAllSeller:function(){return e(c.j.fetchAllSeller())},deleteSite:function(t){return e(c.m.deleteSite(t))},activateSite:function(t){return e(c.m.activateSite(t))}}}))(Y)}}]);
//# sourceMappingURL=25.e14ac3a5.chunk.js.map